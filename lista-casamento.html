<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Casamento</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
      color: #d45b78;
    }
    .formulario {
      max-width: 400px;
      margin: 0 auto 40px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #ccc;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #d45b78;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #b13f5c;
    }
    .lista {
      max-width: 800px;
      margin: 0 auto;
    }
    .item {
      background: white;
      margin: 8px 0;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 5px #ccc;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    .reservado {
      color: green;
    }
    .pendente {
      color: #d45b78;
    }
    .acoes {
      text-align: center;
      margin-top: 30px;
    }
    .btn-pequeno {
      margin-left: 10px;
      font-size: 12px;
      padding: 5px 10px;
      background: #888;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn-pequeno:hover {
      background: #555;
    }

    /* Responsividade para telas pequenas */
    @media (max-width: 600px) {
      .formulario, .lista {
        padding: 15px;
        width: 95%;
        margin: 0 auto;
      }

      .item {
        flex-direction: column;
        align-items: flex-start;
      }

      .item span {
        width: 100%;
        margin-bottom: 5px;
      }

      .btn-pequeno {
        width: auto;
        margin-top: 5px;
        margin-left: 0;
      }

      .acoes button {
        width: 100%;
        margin: 10px 0 0 0;
      }
    }
  </style>
</head>
<body>

<h1>Lista de Casamento ğŸ’</h1>

<div class="formulario">
  <h2>Reservar Presente</h2>
  <form id="formReserva">
    <input type="text" id="nome" placeholder="Seu nome" required>
    <select id="presente" required></select>
    <button type="submit">Reservar</button>
  </form>
</div>

<div class="lista" id="listaPresentes">
  <h2>Presentes</h2>
</div>

<div class="acoes">
  <button onclick="exportarCSV()">ğŸ“¤ Exportar para Excel</button>
  <button onclick="limparTudo()" style="background: #aaa; margin-left: 10px;">ğŸ§¨ Limpar todas as reservas</button>
</div>

<script>
  const presentes = [
    "ğŸ½ï¸ Cozinha - Jogo de Pratos",
    "ğŸ½ï¸ Cozinha - Jogo de Pratos",
    "ğŸ½ï¸ Cozinha - Jogo de Pratos",
    "ğŸ½ï¸ Cozinha - Jogo de Faqueiro",
    "ğŸ½ï¸ Cozinha - Jogo de XÃ­caras",
    "ğŸ½ï¸ Cozinha - Jogo de TaÃ§as",
    "ğŸ½ï¸ Cozinha - Jogo de TaÃ§as",
    "ğŸ½ï¸ Cozinha - Jogo de TaÃ§as",
    "ğŸ½ï¸ Cozinha - Jogo de Copos",
    "ğŸ½ï¸ Cozinha - Jogo de Copos",
    "ğŸ½ï¸ Cozinha - Jogo de Copos",
    "ğŸ½ï¸ Cozinha - Colheres de Cozinhar",
    "ğŸ½ï¸ Cozinha - Potes de Mantimentos",
    "ğŸ½ï¸ Cozinha - Lixeiras",
    "ğŸ½ï¸ Cozinha - TÃ¡bua de Carne",
    "ğŸ½ï¸ Cozinha - Escorredor de LouÃ§a",
    "ğŸ½ï¸ Cozinha - Jogo de Panelas",
    "ğŸ½ï¸ Cozinha - Peneiras",
    "ğŸ½ï¸ Cozinha - Jarras de Vidro",
    "ğŸ½ï¸ Cozinha - Espremedor de Laranja",
    "ğŸ½ï¸ Cozinha - Bomboniere de Vidro",
    "ğŸ½ï¸ Cozinha - Jogo de Facas",
    "ğŸ½ï¸ Cozinha - Chaleiras",
    "ğŸ½ï¸ Cozinha - Frigideiras",
    "ğŸ½ï¸ Cozinha - Frigideiras",
    "ğŸ½ï¸ Cozinha - Frigideiras",
    "ğŸ½ï¸ Cozinha - Frigideiras",
    "ğŸ½ï¸ Cozinha - Frigideiras",
    "ğŸ½ï¸ Cozinha - Panela de PressÃ£o",
    "ğŸ½ï¸ Cozinha - Panos de Pratos",
    "ğŸ½ï¸ Cozinha - Sanduicheira",
    "ğŸ½ï¸ Cozinha - Centrifugador de Salada",
    "ğŸ½ï¸ Cozinha - Garrafa de CafÃ©",
    "ğŸ½ï¸ Cozinha - Fruteira de Vidro",
    "ğŸ½ï¸ Cozinha - Conjunto de Sobremesa",
    "ğŸ½ï¸ Cozinha - Potes Multiuso",
    "ğŸ½ï¸ Cozinha - Potes HermÃ©ticos",
    "ğŸ½ï¸ Cozinha - Cortinas",
    "ğŸ›ï¸ Quarto - Travesseiros",
    "ğŸ›ï¸ Quarto - Cobertores",
    "ğŸ›ï¸ Quarto - Jogo de Cama Casal",
    "ğŸ›ï¸ Quarto - Jogo de Cama Casal",
    "ğŸ›ï¸ Quarto - Jogo de Cama Casal",
    "ğŸ›ï¸ Quarto - Jogo de Cama Casal",
    "ğŸ›ï¸ Quarto - Jogo de Cama Casal",
    "ğŸ›ï¸ Quarto - Protetor de ColchÃ£o",
    "ğŸ›ï¸ Quarto - Ventilador",
    "ğŸ›ï¸ Quarto - Almofadas",
    "ğŸ›ï¸ Quarto - Cortinas",
    "ğŸš¿ Banheiro - Cesto de Roupa",
    "ğŸš¿ Banheiro - Kit de Banheiro Lavabo",
    "ğŸš¿ Banheiro - Tapetes",
    "ğŸš¿ Banheiro - Toalhas",
    "ğŸš¿ Banheiro - Toalhas",
    "ğŸš¿ Banheiro - Toalhas",
    "ğŸš¿ Banheiro - Toalhas",
    "ğŸš¿ Banheiro - Toalhas",
    "ğŸš¿ Banheiro - Toalhas pra Rosto",
    "ğŸš¿ Banheiro - Lixeiras",
    "ğŸ§º Ãrea de ServiÃ§o - Baldes",
    "ğŸ§º Ãrea de ServiÃ§o - Ferro de Passar",
    "ğŸ§º Ãrea de ServiÃ§o - TÃ¡bua de Passar",
    "ğŸ§º Ãrea de ServiÃ§o - Varal de ChÃ£o"
  ];

  const form = document.getElementById('formReserva');
  const listaDiv = document.getElementById('listaPresentes');
  const select = document.getElementById('presente');

  function carregarReservas() {
    return JSON.parse(localStorage.getItem('reservasCasamento') || '[]');
  }

  function salvarReserva(reservas) {
    localStorage.setItem('reservasCasamento', JSON.stringify(reservas));
  }

  function atualizarLista() {
    const reservas = carregarReservas();
    listaDiv.innerHTML = "<h2>Presentes</h2>";
    presentes.forEach((item, index) => {
      const reserva = reservas.find(r => r.index === index);
      const div = document.createElement('div');
      div.className = 'item';
      div.innerHTML = `
        <span>${item}</span>
        <span class="${reserva ? 'reservado' : 'pendente'}">
          ${reserva ? 'Reservado por ' + reserva.nome : 'DisponÃ­vel'}
          ${reserva ? `<button class="btn-pequeno" onclick="removerReserva(${index})">âŒ Cancelar</button>` : ''}
        </span>`;
      listaDiv.appendChild(div);
    });

    select.innerHTML = '';
    presentes.forEach((item, index) => {
      const reservado = reservas.find(r => r.index === index);
      if (!reservado) {
        const opt = document.createElement('option');
        opt.value = index;
        opt.textContent = item;
        select.appendChild(opt);
      }
    });
  }

  form.addEventListener('submit', e => {
    e.preventDefault();
    const nome = document.getElementById('nome').value.trim();
    const index = parseInt(select.value);
    if (!nome || isNaN(index)) return;
    const reservas = carregarReservas();
    reservas.push({ index, nome });
    salvarReserva(reservas);
    form.reset();
    atualizarLista();
  });

  function removerReserva(index) {
    if (!confirm("Tem certeza que deseja cancelar essa reserva?")) return;
    let reservas = carregarReservas();
    reservas = reservas.filter(r => r.index !== index);
    salvarReserva(reservas);
    atualizarLista();
  }

  function exportarCSV() {
    const reservas = carregarReservas();
    if (!reservas.length) {
      alert("Nenhuma reserva foi feita ainda.");
      return;
    }

    let csv = "Item,Convidado\n";
    reservas.forEach(r => {
      csv += `"${presentes[r.index]}","${r.nome}"\n`;
    });

    const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
    const url = URL.createObjectURL(blob);
    const link = document.createElement("a");
    link.setAttribute("href", url);
    link.setAttribute("download", "lista-de-casamento.csv");
    link.click();
  }

  function limparTudo() {
    if (confirm("Tem certeza que deseja limpar TODAS as reservas?")) {
      localStorage.removeItem('reservasCasamento');
      atualizarLista();
    }
  }

  atualizarLista();
</script>

</body>
</html>
